"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const effects_1 = require("./effects");
function asyncComponent(component) {
    let disposed = false, update = effects_1.noop, dispose = () => {
        disposed = true;
    };
    component.then(component => {
        if (!disposed) {
            update = component.update;
            dispose = component.dispose;
        }
        else {
            component.dispose();
        }
    });
    return {
        update: () => update(),
        dispose: () => dispose()
    };
}
exports.asyncComponent = asyncComponent;
function asyncContrucor(constructor) {
    return (...props) => {
        return asyncComponent(constructor(...props));
    };
}
exports.asyncContrucor = asyncContrucor;
//# sourceMappingURL=async.js.map